global.main=function(e){if(!JSON.parse(e.__ow_body).text)return{message:"Must supply text as body",failed:!0};const t=JSON.parse(e.__ow_body).text,l={name:null,item_class:null,category:null,quantity:1,price:null,purchase_date:new Date,expiry_date:null,days_to_expiry:0,frozen:!1,status:"uneaten",remove_date:null};let n=[];for(const e of t)for(const t of e){const e=t.split(" ");if("â€œ"==t[0]){let s=JSON.parse(JSON.stringify(l));/\d+\.\d{2}/.test(e[e.length-1])?(s.name=e.slice(0,-1).join(" ").slice(2),s.price=parseFloat(e[e.length-1])):s.name=t.slice(2),n.push(s),console.log("INVENTORY"),console.log(n)}else"Qty"==e[0]&&(n[n.length-1].quantity=parseFloat(e[1].slice(0,-1)),n[n.length-1].price=parseFloat(e[2].slice(1)))}return{inventory_list:n}};